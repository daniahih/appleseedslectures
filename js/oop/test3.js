const agencies = [
  {
    agencyName: "Best Deal",
    cash: 1245000,
    credit: 200000,
    agencyId: "Plyq5M5AZ",

    cars: [
      {
        brand: "bmw",
        models: [
          {
            name: "3",
            year: 2015,
            price: 137000,
            carNumber: "AZJZ4",
            ownerId: "Plyq5M5AZ",
          },
          {
            name: "X6",
            year: 2020,
            price: 966500,
            carNumber: "S6DL1",
            ownerId: "Plyq5M5AZ",
          },
        ],
      },
      {
        brand: "toyota",
        models: [
          {
            name: "Land Cruiser",
            year: 2020,
            price: 336300,
            carNumber: "6rvXw",
            ownerId: "Plyq5M5AZ",
          },
          {
            name: "Hilux",
            year: 2005,
            price: 35005,
            carNumber: "MWXBG",
            ownerId: "Plyq5M5AZ",
          },
          {
            name: "Corolla",
            year: 2020,
            price: 111900,
            carNumber: "hCzl-",
            ownerId: "Plyq5M5AZ",
          },
        ],
      },
      {
        brand: "Ford",
        models: [
          {
            name: "Focus",
            year: 2020,
            price: 98200,
            carNumber: "kN3HP",
            ownerId: "Plyq5M5AZ",
          },
          {
            name: "Focus",
            year: 2005,
            price: 6502,
            carNumber: "LJTCs",
            ownerId: "Plyq5M5AZ",
          },
        ],
      },
      {
        brand: "Alpha romeo",
        models: [
          {
            name: "Romeo Julia",
            year: 2020,
            price: 275406,
            carNumber: "2kjy7",
            ownerId: "Plyq5M5AZ",
          },
          {
            name: "Romeo Stelvio",
            year: 2019,
            price: 215403,
            carNumber: "7A5b-",
            ownerId: "Plyq5M5AZ",
          },
        ],
      },
      {
        brand: "Chevrolet",
        models: [
          {
            name: "Traverse",
            year: 2020,
            price: 201102,
            carNumber: "QwBOT",
            ownerId: "Plyq5M5AZ",
          },
          {
            name: "Impala",
            year: 2019,
            price: 165041,
            carNumber: "2v4jt",
            ownerId: "Plyq5M5AZ",
          },
          {
            name: "Malibu",
            year: 2017,
            price: 75405,
            carNumber: "O4_Jv",
            ownerId: "Plyq5M5AZ",
          },
        ],
      },
    ],
  },
  {
    agencyName: "CarMax",
    cash: 968541,
    credit: 500000,
    agencyId: "26_IPfHU1",
    cars: [
      {
        brand: "bmw",
        models: [
          {
            name: "X5",
            year: 2015,
            price: 218000,
            carNumber: "4Ixb0",
            ownerId: "26_IPfHU1",
          },
          {
            name: "X6",
            year: 2014,
            price: 97100,
            carNumber: "kAnv-",
            ownerId: "26_IPfHU1",
          },
          {
            name: "Z4",
            year: 2019,
            price: 296900,
            carNumber: "ISMdU",
            ownerId: "26_IPfHU1",
          },
          {
            name: "3",
            year: 2010,
            price: 75100,
            carNumber: "9DJPw",
            ownerId: "26_IPfHU1",
          },
        ],
      },
      {
        brand: "toyota",
        models: [
          {
            name: "Land Cruiser",
            year: 2005,
            price: 80540,
            carNumber: "Kt-pW",
            ownerId: "26_IPfHU1",
          },
          {
            name: "Corolla",
            year: 2019,
            price: 109100,
            carNumber: "YiYdI",
            ownerId: "26_IPfHU1",
          },
          {
            name: "Hilux",
            year: 2019,
            price: 204000,
            carNumber: "DRmNw",
            ownerId: "26_IPfHU1",
          },
        ],
      },
      {
        brand: "Ford",
        models: [
          {
            name: "F250",
            year: 2020,
            price: 198500,
            carNumber: "g4Wfp",
            ownerId: "26_IPfHU1",
          },
          {
            name: "Explorer",
            year: 2020,
            price: 265200,
            carNumber: "iNT8Q",
            ownerId: "26_IPfHU1",
          },
        ],
      },
      {
        brand: "Alpha romeo",
        models: [
          {
            name: "Spider",
            year: 2011,
            price: 75405,
            carNumber: "6t7QU",
            ownerId: "26_IPfHU1",
          },
          {
            name: "166",
            year: 2002,
            price: 12400,
            carNumber: "XMqpn",
            ownerId: "26_IPfHU1",
          },
        ],
      },
      {
        brand: "Chevrolet",
        models: [
          {
            name: "Impala",
            year: 2016,
            price: 65042,
            carNumber: "vbeAo",
            ownerId: "26_IPfHU1",
          },
          {
            name: "Savannah",
            year: 2016,
            price: 76505,
            carNumber: "WelWa",
            ownerId: "26_IPfHU1",
          },
        ],
      },
    ],
  },
  {
    agencyName: "The Auto World",
    cash: 687450,
    credit: 200000,
    agencyId: "gNHjNFL12",
    cars: [
      {
        brand: "bmw",
        models: [
          {
            name: "X6",
            year: 2018,
            price: 548100,
            carNumber: "EMW_7",
            ownerId: "gNHjNFL12",
          },
          {
            name: "3",
            year: 2017,
            price: 178000,
            carNumber: "XlnB4",
            ownerId: "gNHjNFL12",
          },
        ],
      },
      {
        brand: "toyota",
        models: [
          {
            name: "Prius",
            year: 2017,
            price: 101542,
            carNumber: "-RQgN",
            ownerId: "gNHjNFL12",
          },
          {
            name: "Highlander",
            year: 2017,
            price: 202540,
            carNumber: "AZJZ4",
            ownerId: "gNHjNFL12",
          },
          {
            name: "Corolla",
            year: 1996,
            price: 5420,
            carNumber: "kHE8f",
            ownerId: "gNHjNFL12",
          },
          {
            name: "Corolla",
            year: 2012,
            price: 40570,
            carNumber: "p2qEi",
            ownerId: "gNHjNFL12",
          },
        ],
      },
      {
        brand: "Ford",
        models: [
          {
            name: "Explorer",
            year: 2014,
            price: 127502,
            carNumber: "Ty1zN",
            ownerId: "gNHjNFL12",
          },
          {
            name: "F350",
            year: 2012,
            price: 54250,
            carNumber: "z03H2",
            ownerId: "gNHjNFL12",
          },
        ],
      },
      {
        brand: "Chevrolet",
        models: [
          {
            name: "Savannah",
            year: 2010,
            price: 36504,
            carNumber: "RXFZe",
            ownerId: "gNHjNFL12",
          },
          {
            name: "Malibu",
            year: 2009,
            price: 19585,
            carNumber: "K5IsM",
            ownerId: "gNHjNFL12",
          },
        ],
      },
    ],
  },
  {
    agencyName: "Car Werks",
    cash: 302502,
    credit: 150000,
    agencyId: "9KeaYbRLP",
    cars: [
      {
        brand: "bmw",
        models: [
          {
            name: "8",
            year: 2020,
            price: 942500,
            carNumber: "4IUMz",
            ownerId: "9KeaYbRLP",
          },
          {
            name: "X6",
            year: 2010,
            price: 129000,
            carNumber: "Vw0fV",
            ownerId: "9KeaYbRLP",
          },
          {
            name: "X3",
            year: 2019,
            price: 358100,
            carNumber: "ufN54",
            ownerId: "9KeaYbRLP",
          },
          {
            name: "3",
            year: 2020,
            price: 389100,
            carNumber: "F127X",
            ownerId: "9KeaYbRLP",
          },
          {
            name: "3",
            year: 2002,
            price: 18400,
            carNumber: "ueZUp",
            ownerId: "9KeaYbRLP",
          },
        ],
      },
      {
        brand: "toyota",
        models: [
          {
            name: "Prius",
            year: 2011,
            price: 38520,
            carNumber: "AZJZ4",
            ownerId: "9KeaYbRLP",
          },
          {
            name: "Land Cruiser",
            year: 2019,
            price: 290040,
            carNumber: "AZJZ4",
            ownerId: "9KeaYbRLP",
          },
          {
            name: "Hilux",
            year: 2020,
            price: 215700,
            carNumber: "xig8N",
            ownerId: "9KeaYbRLP",
          },
          {
            name: "Hilux",
            year: 2015,
            price: 178506,
            carNumber: "ghTiQ",
            ownerId: "9KeaYbRLP",
          },
          {
            name: "Corolla",
            year: 2002,
            price: 8504,
            carNumber: "Mvw8T",
            ownerId: "9KeaYbRLP",
          },
        ],
      },
      {
        brand: "Chevrolet",
        models: [
          {
            name: "Impala",
            year: 2005,
            price: 9320,
            carNumber: "BZpkt",
            ownerId: "9KeaYbRLP",
          },
          {
            name: "Malibu",
            year: 2002,
            price: 4502,
            carNumber: "KqKV_",
            ownerId: "9KeaYbRLP",
          },
        ],
      },
    ],
  },
  {
    agencyName: "Carsova",
    cash: 72450,
    credit: 50000,
    agencyId: "oqQmsZoUo",
    cars: [
      {
        brand: "bmw",
        models: [
          {
            name: "7",
            year: 1999,
            price: 24700,
            carNumber: "sZrjp",
            ownerId: "oqQmsZoUo",
          },
          {
            name: "3",
            year: 2008,
            price: 54000,
            carNumber: "da88K",
            ownerId: "oqQmsZoUo",
          },
        ],
      },
      {
        brand: "toyota",
        models: [
          {
            name: "Prius",
            year: 2019,
            price: 124050,
            carNumber: "ZfbqH",
            ownerId: "oqQmsZoUo",
          },
          {
            name: "Hilux",
            year: 1996,
            price: 11540,
            carNumber: "AZJZ4",
            ownerId: "oqQmsZoUo",
          },
        ],
      },
    ],
  },
];

const customers = [
  {
    name: "Lilah Goulding",
    id: "BGzHhjnE8",
    cars: [
      {
        name: "Corolla",
        year: 2013,
        price: 40570,
        carNumber: "16da1",
        ownerId: "BGzHhjnE8",
      },
    ],
    cash: 999999,
  },
  {
    name: "Ravi Murillo",
    id: "2RprZ1dbL",
    cars: [
      {
        name: "M5",
        year: 2019,
        price: 578054,
        carNumber: "WIh0U",
        ownerId: "2RprZ1dbL",
      },
      {
        name: "Spider",
        year: 2012,
        price: 81520,
        carNumber: "RLS4q",
        ownerId: "2RprZ1dbL",
      },
    ],
    cash: 278542,
  },
  {
    name: "Aleksander Carr",
    id: "pAuFtn_WA",
    cars: [
      {
        name: "Highlander",
        year: 2018,
        price: 214503,
        carNumber: "2WU_y",
        ownerId: "pAuFtn_WA",
      },
    ],
    cash: 125402,
  },
  {
    name: "Lana Edge",
    id: "cnTobUDy6",
    cars: [
      {
        name: "F250",
        year: 2020,
        price: 198500,
        carNumber: "Xxcy_",
        ownerId: "cnTobUDy6",
      },
      {
        name: "Hilux",
        year: 2005,
        price: 35005,
        carNumber: "VSCUj",
        ownerId: "cnTobUDy6",
      },
    ],
    cash: 7000,
  },
  {
    name: "Nikita Philip",
    id: "5x2tMcX4R",
    cars: [
      {
        name: "Impala",
        year: 2016,
        price: 65042,
        carNumber: "LKInp",
        ownerId: "5x2tMcX4R",
      },
    ],
    cash: 40541,
  },
  {
    name: "Bob Steel",
    id: "Wm6BkA1F0",
    cars: [],
    cash: 15732,
  },
  {
    name: "Will Reyes",
    id: "FQvNsEwLZ",
    cars: [
      { name: "X6", year: 2020, price: 966500, ownerId: "FQvNsEwLZ" },
      {
        name: "Land Cruiser",
        year: 2020,
        price: 336300,
        carNumber: "vaJvd",
        ownerId: "FQvNsEwLZ",
      },
      {
        name: "Romeo Julia",
        year: 2020,
        price: 275406,
        carNumber: "qLoYR",
        ownerId: "FQvNsEwLZ",
      },
      {
        name: "Explorer",
        year: 2020,
        price: 265200,
        carNumber: "tlGRq",
        ownerId: "FQvNsEwLZ",
      },
    ],
    cash: 1547242,
  },
];

class CarAgencyManager {
  constructor(agencies) {
    this.agencies = agencies;
  }

  // Search for a car agency by its name or ID.
  // @param {string} idOrName - ID or name of the agency
  // @return {object} - agency object if found, otherwise null
  searchAgency(idOrName) {
    return (
      this.agencies.find((agency) => {
        return (
          idOrName.toLowerCase() === agency.agencyName.toLowerCase() ||
          idOrName === agency.agencyId
        );
      }) || null
    );
  }

  // Retrieve all agencies' names.
  // @return {string[]} - Array of agency names
  getAllAgencies() {
    return this.agencies.map((agency) => {
      return agency.agencyName;
    });
  }

  // Add a new car to an agency's inventory.
  // @param {string} agencyId - The ID of the agency
  // @param {object} car - The car object to be added
  // @return {boolean} - true if added successfully, false otherwise
  addCarToAgency(agencyId, car) {
    const agency = this.searchAgency(agencyId);
    if (agency) {
      const carBrandIndex = agency.cars.findIndex((c) => c.brand === car.brand);
      if (carBrandIndex !== -1) {
        agency.cars[carBrandIndex].models.push(car.models);
      } else {
        agency.cars.push({
          brand: car.brand,
          models: [car],
        });
      }
      console.log("The car has been added successfully");
      return true;
    } else {
      console.log("The car has not been added");
      return false;
    }
  }

  // Remove a car from an agency's inventory.
  // @param {string} agencyId - The ID of the agency
  // @param {string} carId - The ID of the car to be removed
  // @return {boolean} - true if removed successfully, false otherwise
  removeCarFromAgency(agencyId, carId) {
    const agency = this.searchAgency(agencyId);
    if (agency) {
      const carIndex = agency.cars.findIndex(
        (car) =>
          car.models.findIndex((model) => model.carNumber === carId) !== -1
      );
      if (carIndex !== -1) {
        const modelIndex = agency.cars[carIndex].models.findIndex(
          (model) => model.carNumber === carId
        );
        const car = agency.cars[carIndex].models.splice(modelIndex, 1)[0];
        console.log("The car has been removed successfully");
        // console.log(car);
        return car;
      }
    }
    console.log("The car has not been removed");
    return false;
  }
  // Change the cash or credit of an agency.
  // @param {string} agencyId - The ID of the agency
  // @param {string} cashOrCredit - "cash" or "credit"
  // @param {number} newNum - The new value of cash or credit
  // @return {boolean} - true if updated successfully, false otherwise
  changeAgencyCashOrCredit(agencyId, cashOrCredit, newNum) {
    const agency = this.searchAgency(agencyId);
    if (agency) {
      if (cashOrCredit.toLowerCase() === "cash") {
        agency.cash = newNum;
        console.log("Cash has been successfully changed");
        return true;
      } else if (cashOrCredit.toLowerCase() === "credit") {
        agency.credit = newNum;
        console.log("Credit has been successfully changed");
        return true;
      } else {
        console.log("Invalid input");
        return false;
      }
    } else {
      console.log("Agency not found");
      return false;
    }
  }

  // Update the price of a specific car in an agency.
  // @param {string} agencyId - The ID of the agency
  // @param {string} carId - The ID of the car
  // @param {number} newPrice - The new price of the car
  // @return {boolean} - true if updated successfully, false otherwise
  updateCarPrice(agencyId, carId, newPrice) {
    const agency = this.searchAgency(agencyId);
    if (agency) {
      const car = agency.cars.find((car) =>
        car.models.find((model) => model.carNumber === carId)
      );
      if (car) {
        const model = car.models.find((model) => model.carNumber === carId);
        model.price = newPrice;
        console.log("The car price has been successfully changed");
        return true;
      }
    }
    console.log("The price of the car has not changed");
    return false;
  }

  // Calculate and return the total revenue for a specific agency.
  // @param {string} agencyId - The ID of the agency
  // @return {number|null} - The total revenue of the agency if found, otherwise null
  getTotalAgencyRevenue(agencyId) {
    const agency = this.searchAgency(agencyId);
    if (agency) {
      let totalRevenue = 0;
      agency.cars.forEach((car) => {
        car.models.forEach((model) => {
          totalRevenue = totalRevenue + model.price;
        });
      });
      console.log("Total revenue calculated successfully");
      return totalRevenue;
    } else {
      console.log("Failed to calculate total revenue");
      return null;
    }
  }

  // Transfer a car from one agency to another.
  // @param {string} fromAgencyId - The ID of the agency from where the car will be transferred
  // @param {string} toAgencyId - The ID of the agency to where the car will be transferred
  // @param {string} carId - The ID of the car to be transferred
  // @return {boolean} - true if transferred successfully, false otherwise
  transferCarBetweenAgencies(fromAgencyId, toAgencyId, carId) {
    const car = this.removeCarFromAgency(fromAgencyId, carId);
    console.log(car);
    if (car) {
      car.ownerId = toAgencyId;
      this.addCarToAgency(toAgencyId, car);
      return true;
    }
    return false;
  }
}

class CustomerManager {
  constructor(customers) {
    this.customers = customers;
  }

  // Search for a customer by their name or ID.
  // @param {string} idOrName - ID or name of the customer
  // @return {object} - customer object if found, otherwise null
  searchCustomer(idOrName) {
    return (
      this.customers.find((customer) => {
        return (
          idOrName.toLowerCase() === customer.name.toLowerCase() ||
          idOrName === customer.id
        );
      }) || null
    );
  }

  // Retrieve all customers' names.
  // @return {string[]} - Array of customer names
  getAllCustomers() {
    return this.customers.map((cus) => {
      return cus.name;
    });
  }

  // Change the cash of a customer.
  // @param {string} customerId - The ID of the customer
  // @param {number} cash - The new cash value
  // @return {boolean} - true if updated successfully, false otherwise
  changeCustomerCash(customerId, cash) {
    const customer = this.searchCustomer(customerId);
    if (customer) {
      customer.cash = cash;
      return true;
    }
    return false;
  }

  // Calculate the total value of all cars owned by a specific customer.
  // @param {string} customerId - The ID of the customer
  // @return {number} - The total value of cars owned by the customer
  getCustomerTotalCarValue(customerId) {
    const customer = this.searchCustomer(customerId);
    if (customer) {
      let totalRevenue = 0;
      customer.cars.forEach((car) => {
        totalRevenue += car.price;
      });
      return totalRevenue;
    }
    return null;
  }
}

class CarManager {
  constructor(agencies) {
    this.agencies = agencies;
  }

  // Retrieve all cars available for purchase.
  // @return {object[]} - Array of cars
  getAllCars() {
    return this.agencies.flatMap((agency) =>
      agency.cars.flatMap((model) => model.models)
    );
  }

  // Search for cars based on certain criteria.
  // @param {number} year - The production year of the car
  // @param {number} price - The price of the car
  // @param {string} brand - The brand of the car
  // @return {object[]} - Array of cars that meet the criteria
//   searchCars(year, price, brand) {
//     const allCars = this.agencies.map((agency) => {
//       console.log("dania");
//       return agency.cars.map((model) => model);
//     });
//     return allCars
//     .filter((car) => car.brand === brand)
//       .map((car) =>
//         car.models.filter(
//           (model) => model.year === year && model.price === price
//         )
//       );
//   }


  // Return the most expensive car available for sale.
  // @return {object} - The most expensive car
  getMostExpensiveCar() {
    const allCars = this.getAllCars();
    let topPrice = 0;
    let mostExpensiveCar = null;
    allCars.forEach((car) => {
      if (car.price > topPrice) {
        mostExpensiveCar = car;
        topPrice = car.price;
      }
    });
    return mostExpensiveCar;
  }

  // Return the cheapest car available for sale.
  // @return {object} - The cheapest car
  getCheapestCar() {
    let mostExpensiveCar = this.getMostExpensiveCar().price;
    const allCars = this.getAllCars();
    let cheapestCar = null;
    allCars.forEach((car) => {
      if (car.price < mostExpensiveCar) {
        mostExpensiveCar = car.price;
        cheapestCar = car;
      }
    });
    return cheapestCar;
  }
}

class CarPurchaseManager {
  constructor(agencies, customers) {
    this.agencies = agencies;
    this.customers = customers;
    this.taxesAuthority = {
      totalTaxesPaid: 0,
      sumOfAllTransactions: 0,
      numberOfTransactions: 0,
    };
  }

  removeCarFromAgency(agencyId, carId) {
    const agency = this.agencies.find((agency) => agency.agencyId === agencyId);
    if (agency) {
      const carIndex = agency.cars.findIndex(
        (car) =>
          car.models.findIndex((model) => model.carNumber === carId) !== -1
      );
      if (carIndex !== -1) {
        const modelIndex = agency.cars[carIndex].models.findIndex(
          (model) => model.carNumber === carId
        );
        const car = agency.cars[carIndex].models.splice(modelIndex, 1)[0];
        return car;
      }
    }
  }

  sellCar(carId, customerId, agencyId) {
    const agency = this.agencies.find((agency) => agency.agencyId === agencyId);
    if (!agency) {
      console.log("Agency not found.");
      return false;
    }

    const customer = this.customers.find(
      (customer) => customerId === customer.id
    );
    if (!customer) {
      console.log("Customer not found.");
      return false;
    }

    const availableCars = agency.cars.flatMap((car) =>
      car.models.map((model) => ({
        canBuy: model.carNumber === carId && model.price <= customer.cash,
        price: model.price,
      }))
    );

    if (availableCars.some((car) => car.canBuy)) {
      const carPrice = availableCars.find((car) => car.canBuy).price;
      customer.cash -= carPrice;
      const tax = carPrice * 0.17;
      agency.cash += carPrice - tax;
      const car = this.removeCarFromAgency(agencyId, carId);
      car.ownerId = customerId;
      customer.cars.push(car);
      this.getTotalMarketRevenue(carPrice);
      return true;
    }
    return false;
  }

  // Calculate and return the total revenue of the entire market.
  // @return {number} - The total revenue of the market
  getTotalMarketRevenue(price) {
    if (price) {
      this.taxesAuthority.totalTaxesPaid += price * 0.17;
      this.taxesAuthority.sumOfAllTransactions += price;
      this.taxesAuthority.numberOfTransactions += 1;
    }
    return (
      this.taxesAuthority.sumOfAllTransactions +
      this.taxesAuthority.totalTaxesPaid
    );
  }
}

// Car Agency Manager Tests
const carAgencyManager = new CarAgencyManager(agencies);

// Test searchAgency
// console.log(
//   "Search Agency by ID: ",
//   carAgencyManager.searchAgency("Plyq5M5AZ")
// );
// console.log(
//   "Search Agency by Name: ",
//   carAgencyManager.searchAgency("Best Deal")
// );
// console.log(
//   "Search Agency Non-existent: ",
//   carAgencyManager.searchAgency("NonExistent")
// );

// // Test getAllAgencies
// console.log("All Agencies: ", carAgencyManager.getAllAgencies());

// Test addCarToAgency
const newCar = {
  brand: "ccc",
  models: {
    name: "Camry",
    year: 2021,
    price: 30000,
    carNumber: "TEST1",
    ownerId: "Plyq5M5AZ",
  },
};
// console.log(
//   "Add Car to Agency: ",
//   carAgencyManager.addCarToAgency("Plyq5M5AZ", newCar)
// );

// console.log(
//   "Search Agency by ID: ",
//   carAgencyManager.searchAgency("Plyq5M5AZ").cars
// );

// // Test removeCarFromAgency
// console.log(
//   "Remove Car from Agency: ",
//   carAgencyManager.removeCarFromAgency("Plyq5M5AZ", "TEST1")
// );
// console.log(
//   "Remove Non-existent Car: ",
//   carAgencyManager.removeCarFromAgency("Plyq5M5AZ", "NonExistent")
// );

// console.log(
//   "Search Agency by ID: ",
//   carAgencyManager.searchAgency("Plyq5M5AZ").cars
// );

// // Test changeAgencyCashOrCredit
// console.log(
//   "Change Agency Cash: ",
//   carAgencyManager.changeAgencyCashOrCredit("Plyq5M5AZ", "cash", 999999999),
//   carAgencyManager.changeAgencyCashOrCredit("Plyq5M5AZ", "credit", 2000000)
// );
// console.log(
//   "Change Agency Cash (Invalid): ",
//   carAgencyManager.changeAgencyCashOrCredit("Plyq5M5AZ", "invalid")
// );

// console.log(
//   "Search Agency by ID: ",
//   carAgencyManager.searchAgency("Plyq5M5AZ")
// );

// Test updateCarPrice
// console.log(
//   "Update Car Price: ",
//   carAgencyManager.updateCarPrice("Plyq5M5AZ", "AZJZ4", 150000)
// );
// console.log(
//   "Update Car Price Non-existent: ",
//   carAgencyManager.updateCarPrice("Plyq5M5AZ", "NonExistent", 150000)
// );

// console.log(
//   "Search Agency by ID: ",
//   carAgencyManager.searchAgency("Plyq5M5AZ").cars[0].models
// );

// Test getTotalAgencyRevenue
// console.log(
//   "Total Agency Revenue: ",
//   carAgencyManager.getTotalAgencyRevenue("Plyq5M5AZ")
// );

// Test transferCarBetweenAgencies
console.log(
  "Transfer Car Between Agencies: ",
  carAgencyManager.transferCarBetweenAgencies("Plyq5M5AZ", "26_IPfHU1", "AZJZ4")
);
// console.log(
//   "Transfer Car Between Agencies (Non-existent): ",
//   carAgencyManager.transferCarBetweenAgencies(
//     "NonExistent",
//     "26_IPfHU1",
//     "AZJZ4"
//   )
// );

// console.log(
//   "Search Agency by ID: ",
//   carAgencyManager.searchAgency("26_IPfHU1").cars
// );

// Customer Manager Tests
const customerManager = new CustomerManager(customers);

// // Test searchCustomer
// console.log(
//   "Search Customer by ID: ",
//   customerManager.searchCustomer("BGzHhjnE8")
// );
// console.log(
//   "Search Customer by Name: ",
//   customerManager.searchCustomer("Lilah Goulding")
// );
// console.log(
//   "Search Customer Non-existent: ",
//   customerManager.searchCustomer("NonExistent")
// );

// // Test getAllCustomers
// console.log("All Customers: ", customerManager.getAllCustomers());

// // Test changeCustomerCash
// console.log(
//   "Change Customer Cash: ",
//   customerManager.changeCustomerCash("BGzHhjnE8", 50000)
// );
// console.log(
//   "Change Customer Cash Non-existent: ",
//   customerManager.changeCustomerCash("NonExistent", 50000)
// );

// console.log(
//   "Search Customer by ID: ",
//   customerManager.searchCustomer("BGzHhjnE8")
// );

// // Test getCustomerTotalCarValue
// console.log(
//   "Customer Total Car Value: ",
//   customerManager.getCustomerTotalCarValue("2RprZ1dbL")
// );
// console.log(
//   "Customer Total Car Value Non-existent: ",
//   customerManager.getCustomerTotalCarValue("NonExistent")
// );

// Car Manager Tests
const carManager = new CarManager(agencies);

// Test getAllCars
// console.log("All Cars: ", carManager.getAllCars());

// // Test searchCars
console.log("Search Cars: ", carManager.searchCars(2015, 137000, "bmw"));
console.log("Search Cars (No Brand): ", carManager.searchCars(2020, 500000));

// // Test getMostExpensiveCar
// console.log("Most Expensive Car: ", carManager.getMostExpensiveCar());

// // Test getCheapestCar
// console.log("Cheapest Car: ", carManager.getCheapestCar());

// // Car Purchase Manager Tests
// const carPurchaseManager = new CarPurchaseManager(agencies, customers);

// // Test sellCar

// console.log(
//   "Search Agency by ID: ",
//   carAgencyManager.searchAgency("Plyq5M5AZ").cash
// );

// console.log(
//   "Search Agency by ID: ",
//   carAgencyManager.searchAgency("Plyq5M5AZ").cars[0].models
// );

// console.log(
//   "Search Customer by ID: ",
//   customerManager.searchCustomer("BGzHhjnE8")
// );

// console.log(
//   "Sell Car: ",
//   carPurchaseManager.sellCar("AZJZ4", "BGzHhjnE8", "Plyq5M5AZ")
// );
// console.log(
//   "Sell Car (Non-existent): ",
//   carPurchaseManager.sellCar("NonExistent", "BGzHhjnE8", "Plyq5M5AZ")
// );
// console.log(
//   "Sell Car (Insufficient Funds): ",
//   carPurchaseManager.sellCar("AZJZ4", "Wm6BkA1F0", "Plyq5M5AZ")
// );

// console.log(
//   "Search Agency by ID: ",
//   carAgencyManager.searchAgency("Plyq5M5AZ").cash
// );

// console.log(
//   "Search Agency by ID: ",
//   carAgencyManager.searchAgency("Plyq5M5AZ").cars[0].models
// );

// console.log(
//   "Search Customer by ID: ",
//   customerManager.searchCustomer("BGzHhjnE8")
// );

// // Test getTotalMarketRevenue
// console.log(
//   "Total Market Revenue: ",
//   carPurchaseManager.getTotalMarketRevenue()
// );
